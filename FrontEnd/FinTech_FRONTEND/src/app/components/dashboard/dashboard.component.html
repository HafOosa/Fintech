<div class="content-wrapper">

  <!-- Account Summary Section -->
  <section class="account-summary">
    <div class="total-balance">
      <h2>Total Balance</h2>
      <p class="balance">{{ accountBalance | currency }}</p>
    </div>
    
    <div class="crypto-balances">
      <h3>Crypto Wallets</h3>
      <div *ngFor="let crypto of cryptoBalances" class="crypto-item">
        <span>{{ crypto.name }} ({{ crypto.symbol }})</span>
        <span>{{ crypto.balance }} {{ crypto.symbol }}</span>
      </div>
    </div>
  </section>

  <section class="crypto-trend-chart">
    <h2>Cryptocurrency Price Trends</h2>
    <ngx-charts-line-chart
      *ngIf="lineChartData.length > 0"
      [view]="view"
      [results]="lineChartData"
      [legend]="legend"
      [animations]="animations"
      [xAxis]="xAxis"
      [yAxis]="yAxis"
      [showYAxisLabel]="showYAxisLabel"
      [showXAxisLabel]="showXAxisLabel"
      [xAxisLabel]="xAxisLabel"
      [yAxisLabel]="yAxisLabel"
      [timeline]="timeline"
      [autoScale]="true"
    ></ngx-charts-line-chart>
    <p *ngIf="lineChartData.length === 0">No data available</p>
  </section>
  

  <!-- Recent Transactions Section -->
  <section class="recent-transactions">
    <h2>
      Recent Crypto-Transactions 
      <button (click)="viewAllTransactions()">View All</button>
    </h2>
    
    <table>
      <thead>
        <tr>
          <th>Date</th>
          <th>Type</th>
          <th>Amount</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let transaction of recentTransactions">
          <td>{{ transaction.date | date: 'short' }}</td>
          <td>{{ transaction.type }}</td>
          <td>{{ transaction.amount }} {{ transaction.currency }}</td>
          <td>{{ transaction.status }}</td>
        </tr>
      </tbody>
    </table>
  </section>

  <!-- Normal Transactions Section -->
  <section class="normal-transactions">
    <h2>Recent Normal Transactions</h2>
    <table *ngIf="normalTransactions.length > 0; else noTransactions">
      <thead>
        <tr>
          <th>Date</th>
          <th>Type</th>
          <th>Amount</th>
          <th>Destination Address</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let transaction of normalTransactions">
          <td>{{ transaction.date | date: 'short' }}</td>
          <td>{{ transaction.transaction_type }}</td>
          <td>{{ transaction.montant | currency }}</td>
          <td>{{ transaction.destination_address }}</td>
        </tr>
      </tbody>
    </table>
    <ng-template #noTransactions>
      <p>No normal transactions found.</p>
    </ng-template>
  </section>
</div>
